{% extends "base.html" %}

{% block main_content %}
<form id="login-form">{% csrf_token %}
    <input type="text" name="username" placeholder="username">
    <input type="password" name="password" placeholder="password">
    <button>Submit</button>
</form>

{% endblock main_content %}

{% block extra_scripts %}
<script>
    // user authentication
    $('#login-form').submit(function(e) {
        e.preventDefault();
        var post_data = {
            username: $('[name="username"]').val(),
            password: $('[name="password"]').val(),
            csrfmiddlewaretoken: $('[name="csrfmiddlewaretoken"]').attr('value'),
        };
        $.post('{% url "login" %}', post_data, function(resp) {
            console.log(resp);
        })
    })
</script>
{% endblock extra_scripts %}